{% extends "layout.html" %}
{% block title %}Dashboard Â· PlayrServers Control Plane{% endblock %}
{% block content %}
<div class="stack">
    <div class="card">
        <h1>Hello, {{ user.name }}!</h1>
        <p class="muted">Orchestrate virtualization hosts, rotate automation credentials, and keep the PlayrServers control plane compliant with your security posture.</p>
        <div class="actions">
            <a href="{{ request.url_for('account') }}" class="button">Account &amp; API key</a>
            <a href="{{ request.url_for('management') }}" class="button secondary">Manage hypervisors</a>
        </div>
    </div>

    <div class="card">
        <div class="section-header">
            <h2>Control plane overview</h2>
            <span class="badge">API: {{ api_base_url }}</span>
        </div>
        <div class="grid-2">
            <section>
                <h3 style="margin-top: 0;">Automation endpoints</h3>
                <p>Remote agents authenticate against <code>{{ api_base_url }}</code> using your user-scoped API key. Publish the API behind Cloudflare or nginx and forward requests to the dedicated listener (<code>MANAGEMENT_API_PORT</code>, <code>8001</code> by default).</p>
                <p class="muted">Rotate compromised keys from the <a href="{{ request.url_for('account') }}" style="color: inherit; text-decoration: underline;">account page</a>. Each rotation is shown once and persisted in the SQLite credential store.</p>
            </section>
            <section>
                <h3 style="margin-top: 0;">Remote agent rollout</h3>
                <div class="placeholder-box">
                    <p>A detailed deployment guide for the PlayrServers remote agent will live here. Document supported distributions, bootstrap commands, and upgrade procedures as the agent packaging stabilizes.</p>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}
